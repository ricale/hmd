/*! hmd - v0.2.8.1 - 2016-10-20
* Copyright (c) 2016 ricale; Licensed  */
window.IndentHelper=function(){var a=function(a,b){var c,d="    ",e=function(a){var b=a.value,c=a.selectionStart,d=a.selectionEnd,e=b.substring(c,d);return{element:a,content:b,selectionStart:c,selectionEnd:d,selectionString:e}},f=function(){var a,b=c.content.lastIndexOf("\n",c.selectionStart-1),d=c.content.indexOf("\n",c.selectionEnd);return d=-1==d?c.content.length-1:d,a=c.content.substring(b,d),{start:b,end:d,content:a}},g=function(a,b,d){c.element.value=c.content.substring(0,a)+d+c.content.substring(b,c.content.length)},h=function(a,b,d){c.element.selectionStart=b,c.element.selectionStart<a+1&&(c.element.selectionStart=a+1),d<c.element.selectionStart&&(d=c.element.selectionStart),c.element.selectionEnd=d},i=function(){g(c.selectionStart,c.selectionEnd,d),h(-1,c.selectionStart+d.length,c.selectionStart+d.length)},j=function(){var a,b=f(),d=/(^|\n)([ ]{1,4})/;a=null===b.content.match(d)?0:b.content.match(d)[2].length,g(b.start,b.end,b.content.replace(d,"$1")),h(b.start,c.selectionStart-a,c.selectionStart-a)},k=function(){var a=f(),b=/(^|\n)(?!\n)/g;g(a.start,a.end,a.content.replace(b,"$1"+d)),h(a.start,c.selectionStart+d.length,c.selectionEnd+d.length*c.selectionString.match(b).length)},l=function(){var a,b,d,e=f(),i=/(^|\n)([ ]{1,4})/g,j=e.content.match(i),k=0,l=0;if(null!==j){for(a=c.selectionString.match("\n[ ]{0,3}$"),b=0;b<j.length;b++)d=j[b],k+=b==j.length-1&&a?a[0].length-1:d.match(/[ ]+/)[0].length;null!==c.content.substring(e.start,c.selectionStart).match(i)&&(l=j[0].match(/[ ]+/)[0].length)}g(e.start,e.end,e.content.replace(i,"$1")),h(e.start,c.selectionStart-l,c.selectionEnd-k)};document.selection||(c=e(a),null===c.selectionString.match(/\n/)?b?j():i():b?l():k())};return{indent:a,eventListener:function(b){void 0!==b&&9==b.keyCode&&(b.preventDefault(),a(this,b.shiftKey))},addEventListener:function(a,b){b=b||"keydown",a.addEventListener?a.addEventListener(b,this.eventListener,!1):a.attachEvent?a.attachEvent("on"+b,this.eventListener):a[b]=this.eventListener}}}(),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),window.hmd=function(){"use strict";var a,b,c,d,e,f,g,h="p",i="h1",j="h2",k="h3",l="h4",m="h5",n="h6",o="hr",p="ul",q="ol",r="blank",s="codeblock",t="blockquote",u=/^[ ]{0,3}(>+)[ ]?([ ]*.*)$/,v=/^=+$/,w=/^-+$/,x=/^[ ]{0,3}([-_*][ ]*){3,}$/,y=/^([\s]*)[*+-][ ]+(.*)$/,z=/^([\s]*)[\d]+\.[ ]+(.*)$/,A=/^[\s]*$/,B=/^([ ]{1,8})([\s]*)(.*)/,C=/^([ ]{0,3}\t|[ ]{4})([\s]*.*)$/,D=/^(#{1,6}) (.*[^#])(#*)$/,E=[/^[ ]{0,3}\[([^\]]+)\]:[\s]*<([^\s>]+)>[\s]*(?:['"(](.*)["')])?$/,/^[ ]{0,3}\[([^\]]+)\]:[\s]*([^\s]+)[\s]*(?:['"(](.*)["')])?$/],F=200,G=1e3,H=function(){var a,b=/\\([\\\-\*\.\[\]\(\)_+<>#`^])/g,c=/;;ESCAPE([0-9]+);;/g,d=["-","_","*","+",".","<",">","#","[","]","(",")","`","\\","^"],e=["-","_","*","+",".","&lt;","&gt;","#","[","]","(",")","`","\\","^"],f={};for(a in d)d.hasOwnProperty(a)&&(f[d[a]]=";;ESCAPE"+a+";;");return function(){return{decode:function(a){return a=a.replace(b,function(a,b){return f[b]})},escape:function(a){return a=a.replace(c,function(a,b){return e[b]})}}}()}(),I=function(){var a,b=0,c=1,d=2,e=[],f=/;;REPLACER([0-9]+);;/g,g={},h=function(a,b){return{url:a,title:b}},i=function(a,b,c,d){return{regexp:a,type:b,result:c,notReplaced:d||null}},j=function(){return";;REPLACER"+(e.length-1)+";;"},k=function(a){return void 0===a?"":' title="'+a+'"'};return a=[i(/!\[([^\]]+)\][\s]*\[([^\]]*)\]/g,d,function(a,b,c){return'<img src="'+a+'" alt="'+b+'"'+k(c)+">"}),i(/\[([^\]]+)\][\s]*\[([^\]]*)\]/g,d,function(a,b,c){return'<a href="'+a+'" alt="'+b+'"'+k(c)+">"},function(a){return a+"</a>"}),i(/``[\s]*(.+?)[\s]*``/g,c,function(a){return"<code>"+a.replace(/</g,"&lt;")+"</code>"}),i(/`([^`]+)`/g,c,function(a){return"<code>"+a.replace(/</g,"&lt;")+"</code>"}),i(/!\[([^\]]+)\][\s]*\(([^\s\)]+)(?: "(.*)")?\)/g,c,function(a,b,c){return'<img src="'+b+'"'+k(c)+">"}),i(/\[([^\]]+)\][\s]*\(([^\s\)]+)(?: "(.*)")?\)/g,c,function(a,b,c){return'<a href="'+b+'"'+k(c)+">"},function(a){return a+"</a>"}),i(/<(http[s]?:\/\/[^<]+)>/g,c,function(a){return'<a href="'+a+'">'+a+"</a>"}),i(/\*\*([^\*\s]{1,2}|\*[^\*\s]|[^\*\s]\*|(?:[^\s].+?[^\s]))\*\*/g,b,"<strong>$1</strong>"),i(/__([^_\s]{1,2}|_[^_\s]|[^_\s]_|(?:[^\s].+?[^\s]))__/g,b,"<strong>$1</strong>"),i(/\*([^\*\s]{1,2}|[^\s].+?[^\s])\*/g,b,"<em>$1</em>"),i(/_([^_\s]{1,2}|[^\s].+?[^\s])_/g,b,"<em>$1</em>"),i(/(  )$/,b,"<br/>"),i(/<(?=[^>]*$)/g,b,"&lt;")],function(){return{init:function(){e=[],g={}},addRule:function(c){var d;for(d in c)c.hasOwnProperty(d)&&(a[a.length]=i(c[d][0],b,c[d][1]))},addReference:function(a,b,c){g[a]=h(b,c)},decode:function(f){var h,i,k,l=function(a,b,c,d){return e[e.length]=i.result(b,c,d),j()+(null!==i.notReplaced?i.notReplaced(b):"")},m=function(a,b,c){return k=g[c||b],void 0===k?a:(e[e.length]=i.result(k.url,b,k.title),j()+(null!==i.notReplaced?i.notReplaced(b):""))};for(h in a)if(a.hasOwnProperty(h))switch(i=a[h],i.type){case b:f=f.replace(i.regexp,i.result);break;case c:f=f.replace(i.regexp,l);break;case d:f=f.replace(i.regexp,m)}return f},escape:function(a){return a=a.replace(f,function(a,b){return e[b]}),e=[],a}}}()}(),J=function(){var a=[],b=null;return function(){return{init:function(){a=[],b=null},push:function(b){b.index=a.length,a.push(b)},setCurrentIndex:function(c){return b=0>c?null:c>=a.length?null:c},goNext:function(){return this.setCurrentIndex(null!==b?b+1:0)},current:function(){return a[b]},last:function(b){return void 0===b?a.last():void(a[a.length-1].tag=b.tag)},get:function(b){return a[b]},size:function(){return a.length},previousLine:function(c){return c=void 0===c?b:c,c>1?a[c-1]:null},nextLine:function(c){return c=void 0===c?b:c,c<a.length-1?a[c+1]:null},previousBlank:function(c){var d;for(c=void 0===c?b:c,d=c-1;d>=0;d--)if(a[d].isBlank())return a[d];return null},nextBlank:function(c){var d;for(c=void 0===c?b:c,d=c+1;d<a.length;d++)if(a[d].isBlank())return a[d];return null},previousLineExceptBlank:function(c){var d;for(c=void 0===c?b:c,d=c-1;d>=0;d--)if(a[d].isNotBlank())return a[d];return null},nextLineExceptBlank:function(c){var d;for(c=void 0===c?b:c,d=c+1;d<a.length;d++)if(a[d].isNotBlank())return a[d];return null},previousChunk:function(c){var d,e,f;for(c=void 0===c?b:c,d=c-1;d>=0;d--){if(a[d].isHeading()||a[d].isHorizontalLine())return null;if(a[d].isBlank())return e=this.previousLineExceptBlank(d),null===e?null:(f=this.previousBlank(e.index),null===f?e:a[f.index+1])}return null},nextChunk:function(c){var d;for(c=void 0===c?b:c,d=c+1;d<a.length;d++){if(a[d].isHeading()||a[d].isHorizontalLine()||a[d].isList()&&a[d].listLevel()==this.current().listLevel())return null;if(a[d].isBlank())return this.nextLineExceptBlank(d)}return null},previousList:function(c){var d,e=!1;for(c=void 0===c?b:c,d=c-1;d>=0;d--){if(a[d].isHeading()||a[d].isHorizontalLine())return null;if(a[d].isBlank()){if(e)return null;e=!0}else{if(a[d].isNotBlank()&&0===a.level)return null;if(a[d].isList())return a[d]}}return null}}}()}(),K=function(){var a=[],b=0,c=0;return function(){return{init:function(){a=[],b=0,c=0},push:function(d,e){var f;switch(e=void 0===e?0:e,f=a.length>0&&(a.last().tag==h||a.last().tag==s)?this.pop():"",d==t?b+=1:(d==p||d==q)&&(c=e,0!==c&&(c+=100*b)),a.push({tag:d,level:e}),d){case t:return f+"<blockquote>";case p:return f+"<ul><li>";case q:return f+"<ol><li>";case h:return f+"<p>";case i:return f+"<h1>";case j:return f+"<h2>";case k:return f+"<h3>";case l:return f+"<h4>";case m:return f+"<h5>";case n:return f+"<h6>";case s:return f+"<pre><code>";case o:return f+"<hr/>"}},pushToQuoteLevel:function(a){for(var b="";a>this.quoteLevel();)b+=this.push(t,a);return b},pop:function(){var d,e,f;if(a.length>0)if(e=a.last(),e.tag==t)b-=1;else if(e.tag==p||e.tag==q){for(c=0,d=a.length-2;d>=0;d--)if(a[d].tag!=t){c=a[d].level;break}0!==c&&(c+=100*b)}switch(f=a.pop(),f.tag){case t:return"</blockquote>";case p:return"</li></ul>";case q:return"</li></ol>";case h:return"</p>";case i:return"</h1>";case j:return"</h2>";case k:return"</h3>";case l:return"</h4>";case m:return"</h5>";case n:return"</h6>";case s:return"</code></pre>";case o:return""}},popToQuoteLevel:function(a){for(var b="";a<this.quoteLevel();)b+=this.pop();return b},popToListLevel:function(a){for(var b="";this.isNotEmpty()&&this.lastIsNotBlockquote()&&a<this.listLevel();)b+=this.pop();return b},popToBlockquote:function(){for(var a="";this.isNotEmpty()&&this.lastIsNotBlockquote();)a+=this.pop();return a},last:function(){return a.last()},listLevel:function(){return c},quoteLevel:function(){return b},isEmpty:function(){return 0===a.length},isNotEmpty:function(){return 0!==a.length},lastIsBlockquote:function(){var b=a.last();return b&&b.tag==t},lastIsNotBlockquote:function(){var b=a.last();return!b||b.tag!=t},lastIsParagraph:function(){var b=a.last();return b&&b.tag==h},lastIsNotParagraph:function(){var b=a.last();return!b||b.tag!=h},lastIsList:function(){var b=a.last();return b&&(b.tag==p||b.tag==q)},lastIsNotList:function(){var b=a.last();return!b||b.tag!=p&&b.tag!=q},lastIsCodeblock:function(){var b=a.last();return b&&b.tag==s},lastIsNotCodeblock:function(){var b=a.last();return!b||b.tag!=s},size:function(){return a.length},stack:function(){return a}}}()}(),L=function(){this.index=null,this.content=null,this.tag=null,this.level=0,this.quote=0};return L.prototype.listLevel=function(){return 0===this.level?0:this.level+100*this.quote},L.prototype.isParagraph=function(){return this.tag==h},L.prototype.isUnorderedList=function(){return this.tag==p},L.prototype.isOrderedList=function(){return this.tag==q},L.prototype.isList=function(){return this.isUnorderedList()||this.isOrderedList()},L.prototype.isBlank=function(){return this.tag==r},L.prototype.isCodeblock=function(){return this.tag==s},L.prototype.isHeading=function(){return this.tag==i||this.tag==j||this.tag==k||this.tag==l||this.tag==m||this.tag==n},L.prototype.isHorizontalLine=function(){return this.tag==o},L.prototype.isNotParagraph=function(){return this.tag!=h},L.prototype.isNotUnorderedList=function(){return this.tag!=p},L.prototype.isNotOrderedList=function(){return this.tag!=q},L.prototype.isNotList=function(){return this.isNotUnorderedList()&&this.isNotOrderedList()},L.prototype.isNotBlank=function(){return this.tag!=r},L.prototype.isNotCodeblock=function(){return this.tag!=s},L.prototype.isNotHeading=function(){return this.tag!=i&&this.tag!=j&&this.tag!=k&&this.tag!=l&&this.tag!=m&&this.tag!=n},L.prototype.isNotHorizontalLine=function(){return this.tag!=o},c=function(c){var e,f,h,i=c.split(/\n/),j=function(){I.init(),a=[],b=[],J.init(),K.init()},k=function(a){return a.isNotBlank()&&0===a.level},l=function(){a.length>0&&(a=[],b=[]),b.length>0&&(b=[])};for(h=this,j(),e=0;e<i.length;e++)null!==(f=d(i[e]))&&(J.push(f),k(f)&&l());return g()},d=function(c){var g,t=e(c),u=null,F=function(){return null!==t.content.match(A)},G=function(){return null!==t.content.match(v)&&0!==J.size()&&J.last().isParagraph()},H=function(){return null!==t.content.match(w)&&0!==J.size()&&J.last().isParagraph()},K=function(){return null!==t.content.match(x)},M=function(c,d){var e,g,i=function(d){var e=function(c,d){var e,g,i,j=f(c),k=new L,l=d?b:a,m=function(){return 0===l.length},n=function(){return 1==l.length},o=function(){return j==l[0]},p=function(){return j>=4*(e+1)},q=function(){return j>l[e-1]&&j>4*(e-1)},r=function(){return j>=l[e-1]};if(m())3>=j?(l[0]=j,k.level=1):k.tag=s;else if(n())o()?k.level=1:7>=j?(l[1]=j,k.level=2):k.tag=s;else if(e=l.length,p())k.tag=h,k.level=e;else if(q())l[e]=j,k.level=e+1;else if(r())k.level=e;else{for(g=!1,i=e-2;i>=0;i--)if(j>=l[i]){l=l.slice(0,i+1),k.level=i+1,g=!0;break}g||(k.tag=h,k.level=e)}return d?(k.level+=a.length,b=l):a=l,l=null,k},g=e(d[1],0!==t.quote);return g.isNotCodeblock()?(t.tag=null!==g.tag?g.tag:c,t.level=g.level,t.content=d[2],t):!1};return(e=t.content.match(d))?(g=i(e))!==!1?g:S(t):null},N=function(){return M(p,y,t)},O=function(){return M(q,z,t)},P=function(a,b){var c,g=function(){return null!==m&&0!==m.level},i=function(){return null!==n&&m.isCodeblock()&&8==f(n[1])&&4*(m.level-1)<=f(n[2])},j=function(){return null!==l&&0!==l.level},k=new L,l=J.previousLineExceptBlank(J.size()),m=J.previousLine(J.size()),n=a.match(B);if(g())return i()?(k.tag=s,k.content=n[2].slice(4*(m.level-1))+n[3],k.level=m.level,k.quote=b.quote,k):(k=e(a),k.tag=h,k.level=m.level,k);if(j()){if(null===n)if(k=e(a),k.quote==l.quote){if(n=k.content.match(B),null===n)return null}else{if(l=J.previousList(J.size()),!l||k.quote!=l.quote)return null;if(n=k.content.match(B),null===n)return null}return 8==f(n[1])&&4*(l.level-1)<=f(n[2])?(k.tag=s,k.content=n[2].slice(4*(l.level-1))+n[3],k.level=l.level,k.quote=b.quote,k):(k=d(n[3]),null===k?null:(c=f(n[1]+n[2]),c=c/4-c/4%1+(c%4!==0),k.level+=c>l.level?l.level:c,k.quote=l.quote,k))}return null},Q=function(){var a,b;if(a=t.content.match(D)){switch(b=a[1].length){case 1:t.tag=i;break;case 2:t.tag=j;break;case 3:t.tag=k;break;case 4:t.tag=l;break;case 5:t.tag=m;break;case 6:t.tag=n}return t.content=a[2],t}return null},R=function(){var a;return null===(a=t.content.match(E[0]))?a=t.content.match(E[1]):a},S=function(){return(u=t.content.match(C))?(t.tag=s,t.content=u[2],t):null},T=function(){return t.tag=r,t.content="",t},U=function(){return J.last({tag:i}),null},V=function(){return J.last({tag:j}),null},W=function(){return t.tag=o,t.content="",t},X=function(){return I.addReference(g[1],g[2],g[3]),null},Y=function(){return t.tag=h,t};return F()?T():G()?U():H()?V():K()?W():(g=N())?g:(g=O())?g:(g=P(c,t))?g:(g=Q())?g:(g=R())?X():(g=S())?g:Y()},e=function(a){var b=new L,c=null;for(b.content=a;;){if(c=b.content.match(u),null===c)return b;b.quote+=c[1].length,b.content=c[2]}},f=function(a){var b,c=a.match(/([ ]{0,3}\t|[ ]{4}|[ ]{1,3})/g),d=0;if(null!==c)for(b=0;b<c.length;b++)d+=null!==c[b].match(/^[ ]{1,3}$/)?c[b].length:4;return d},g=function(){for(var a,b=function(){var b=J.nextLineExceptBlank();a.isNotParagraph()&&K.lastIsParagraph()&&(g+=K.pop()),K.lastIsCodeblock()&&(a.isNotCodeblock()&&a.isNotBlank()||a.isBlank()&&(null===b||b.isNotCodeblock()))&&(g+=K.pop())},c=function(){var b=J.previousLine(),c=function(){a.listLevel()<K.listLevel()?g+=K.popToListLevel(a.listLevel()):a.listLevel()==K.listLevel()&&a.isList()&&(g+=a.tag!=K.last().tag?K.pop():"</li>")};a.quote<K.quoteLevel()?(b.isBlank()&&(g+=K.popToQuoteLevel(a.quote)),c()):a.quote>K.quoteLevel()?(b&&b.isBlank()&&(g+=K.popToBlockquote()),g+=K.pushToQuoteLevel(a.quote)):c()},d=function(){var a,b,c,d=J.current();d.isList()&&d.listLevel()>K.listLevel()?g+=K.push(d.tag,d.level):d.listLevel()==K.listLevel()&&d.isList()&&(g+="<li>"),(K.isEmpty()||K.lastIsNotParagraph())&&0!==d.level&&(a=J.previousLine(),d.isParagraph()&&null!==a&&a.isBlank()?d.listLevel()==K.listLevel()&&(g+=K.push(h)):d.isList()&&(c=J.nextChunk(),b=J.previousChunk(),c&&d.listLevel()==c.listLevel()?g+=K.push(h):b&&d.listLevel()==b.listLevel()&&(g+=K.push(h))))},e=function(){a.isHeading()||a.isHorizontalLine()?g+=K.push(a.tag):a.isParagraph()?(K.isEmpty()||K.lastIsNotParagraph())&&0===K.listLevel()&&(g+=K.push(a.tag)):a.isCodeblock()&&K.lastIsNotCodeblock()&&(g+=K.push(a.tag))},f=function(){a.isCodeblock()?a.content=a.content.replace(/[<>&]/g,function(a){switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}}):(a.content=H.decode(a.content),a.content=I.decode(a.content),a.content=I.escape(a.content),a.content=H.escape(a.content)),g+=a.isHeading()||a.isHorizontalLine()?a.content+K.pop():a.isBlank()?"\n":a.isCodeblock()?a.content+"\n":a.content},g="";null!==J.goNext();)a=J.current(),b(),a.isNotBlank()&&(c(),d()),e(),f();return g},{decode:function(a){return c.call(this,a)},run:function(a,b,d){var e=function(){var c=a,d=b.scrollHeight,e=b.clientHeight,f=c.scrollTop,g=c.scrollHeight,h=c.clientHeight,i=f/(g-h)*(d-e);b.scrollTop=i},f=function(a,b){var c;document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0)):(c=document.createEventObject(),c.eventType=b),c.eventName=b,document.createEvent?a.dispatchEvent(c):a.fireEvent("on"+c.eventType,c)},g=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},h=function(){-1!=navigator.userAgent.toLowerCase().indexOf("firefox")&&null===l&&(l=setInterval(function(){var b=(new Date).getTime();b-m>F&&k!=a.value&&(k=a.value,f(a,"keydown"))},F))},i=function(f){var g;void 0!==f&&9==f.keyCode&&d.UseTabKey&&(f.preventDefault(),IndentHelper.indent(this,f.shiftKey)),g=(new Date).getTime(),F>g-m&&clearTimeout(n),m=g,n=setTimeout(function(){b.innerHTML=c.call(j,a.value),p=!1,d.AutoScrollPreview&&e(),clearTimeout(o)},F),p||(p=!0,o=setTimeout(function(){b.innerHTML=c.call(j,a.value),p=!1,d.AutoScrollPreview&&e()},G))},j=this,k=a.value,l=null,m=0,n=null,o=null,p=!1;d=void 0===d?{}:d,d.UseTabKey=void 0===d.UseTabKey?!0:d.UseTabKey,d.AutoScrollPreview=void 0===d.AutoScrollPreview?!0:d.AutoScrollPreview,h(),i(),g(a,"keydown",i),g(a,"keyup",function(a){k=a.target.value}),d.AutoScrollPreview&&g(a,"scroll",e)},addInlineRules:function(a){I.addRule(a)}}}(),hmd.addInlineRules([[/--([^-\s]{1,2}|-[^-\s]|[^-\s]-|(?:[^\s].+?[^\s]))--/g,"<del>$1</del>"],[/,,([^,\s]{1,2}|,[^,\s]|[^,\s],|(?:[^\s].+?[^\s])),,/g,"<sub>$1</sub>"],[/\^\^([^\^\s]{1,2}|\^[^\^\s]|[^\^\s]\^|(?:[^\s].+?[^\s]))\^\^/g,"<sup>$1</sup>"]]);